plugins {
	id("java")
}

[compileJava, compileTestJava]*.options*.encoding = "UTF-8"

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

repositories {
	mavenCentral()
}

dependencies {
	implementation("org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.5")
}

group "kr.ayukawa"

subprojects {
	apply plugin: "java"

	[compileJava, compileTestJava]*.options*.encoding = "UTF-8"

	repositories {
		mavenCentral()
	}

	task initSourceFolders {
		sourceSets*.java.srcDirs*.each {
			if(!it.exists()) { it.mkdirs() }
		}
		sourceSets*.resources.srcDirs*.each {
			if(!it.exists()) { it.mkdir() }
		}
	}
}